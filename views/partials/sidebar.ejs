<!-- Sidebar -->
<aside class="sidebar" id="sidebar">
  <div class="sidebar-header">
    <div class="logo">
      <img src="/img/starnode.svg" alt="Logo" class="logo-icon" />
      <span class="logo-text">Star Node</span>
    </div>
    <% if (typeof showSidebarToggle !== 'undefined' && showSidebarToggle) { %>
    <button class="sidebar-toggle" id="sidebarToggle">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path d="M3 12h18M3 6h18M3 18h18" />
      </svg>
    </button>
    <% } %>
  </div>

  <nav class="sidebar-nav">
    <a
      href="/"
      class="nav-item <%= activePage === 'dashboard' ? 'active' : '' %>"
    >
      <svg
        class="nav-icon"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
      >
        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
        <polyline points="9 22 9 12 15 12 15 22" />
      </svg>
      <span class="nav-text">Dashboard</span>
      <% if (typeof integrationCount !== 'undefined' && activePage ===
      'dashboard') { %>
      <span class="badge" id="integrationCount"><%= integrationCount %></span>
      <% } %>
    </a>

    <a
      href="/users"
      class="nav-item <%= activePage === 'users' ? 'active' : '' %>"
    >
      <svg
        class="nav-icon"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
      >
        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
        <circle cx="9" cy="7" r="4" />
        <path d="M23 21v-2a4 4 0 0 0-3-3.87" />
        <path d="M16 3.13a4 4 0 0 1 0 7.75" />
      </svg>
      <span class="nav-text">Users</span>
    </a>

    <!-- Feature Templates removed - features are now created directly in integrations -->

    <a
      href="/integrations"
      class="nav-item <%= activePage === 'integrations' ? 'active' : '' %>"
    >
      <svg
        class="nav-icon"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
      >
        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
        <circle cx="12" cy="7" r="4" />
      </svg>
      <span class="nav-text">Integrations</span>
    </a>

    <div class="nav-divider"></div>

    <a
      href="/user-integrations"
      class="nav-item <%= activePage === 'user-integrations' ? 'active' : '' %>"
    >
      <svg
        class="nav-icon"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
      >
        <rect x="3" y="3" width="7" height="7" />
        <rect x="14" y="3" width="7" height="7" />
        <rect x="14" y="14" width="7" height="7" />
        <rect x="3" y="14" width="7" height="7" />
      </svg>
      <span class="nav-text">Available Integrations</span>
    </a>

    <a
      href="/my-connections"
      class="nav-item <%= activePage === 'my-connections' ? 'active' : '' %>"
    >
      <svg
        class="nav-icon"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
      >
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" />
        <path
          d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"
        />
      </svg>
      <span class="nav-text">My Connections</span>
    </a>

    <div class="nav-divider"></div>

    <a
      href="/auth-config"
      class="nav-item <%= activePage === 'auth-config' ? 'active' : '' %>"
    >
      <svg
        class="nav-icon"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
      >
        <rect x="3" y="11" width="18" height="11" rx="2" ry="2" />
        <path d="M7 11V7a5 5 0 0 1 10 0v4" />
      </svg>
      <span class="nav-text">Auth Config</span>
    </a>
  </nav>
</aside>
